(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{10:function(e,t,a){e.exports={FormWrapper:"AuthForm_FormWrapper__2_2G7",FormGroupSpacing:"AuthForm_FormGroupSpacing__2YsuF",CenteredButton:"AuthForm_CenteredButton__mPhxp",AuthLink:"AuthForm_AuthLink__2nuPw",AuthLinkHighlight:"AuthForm_AuthLinkHighlight__2veRz",gradient:"AuthForm_gradient__4bNq5",gradientOverlay:"AuthForm_gradientOverlay__1aP-S",splitBox:"AuthForm_splitBox__3Qoc9",formBox:"AuthForm_formBox__2Tlgu",imageBox:"AuthForm_imageBox__1jRNM",AuthImage:"AuthForm_AuthImage__1OpaW",AuthTitle:"AuthForm_AuthTitle__tI1Xj",ErrorBox:"AuthForm_ErrorBox__2o8wb"}},11:function(e,t,a){e.exports={FormWrapper:"PostForm_FormWrapper__36o49",FormGroupSpacing:"PostForm_FormGroupSpacing__2YMOe",CurrentImage:"PostForm_CurrentImage__3gjY8",RemoveImageCheckbox:"PostForm_RemoveImageCheckbox__2Gu0U",FormButtonRow:"PostForm_FormButtonRow__ISUGS",FormMediaWrapper:"PostForm_FormMediaWrapper__3Ey43",FormImagePreview:"PostForm_FormImagePreview__2Oka5",SuggestionBox:"PostForm_SuggestionBox__34k9g",SuggestionItem:"PostForm_SuggestionItem__2asAs"}},122:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(27),o=a.n(c),r=(a(92),a(29)),i=a.n(r),l=a(132),d=a(85),m=a(133),j=a(82),u=a.n(j),p=a(13),h=a(9),b=a(14),O=a.n(b);O.a.defaults.baseURL="/api",O.a.defaults.headers.post["Content-Type"]="multipart/form-data",O.a.defaults.withCredentials=!0;const g=O.a.create(),x=O.a.create();a(83);const _=()=>{localStorage.removeItem("refreshTokenTimestamp")};var f=a(1);const v=Object(n.createContext)(),C=Object(n.createContext)(),N=()=>Object(n.useContext)(v),y=()=>Object(n.useContext)(C),S=e=>{let{children:t}=e;const[a,s]=Object(n.useState)(null),[c,o]=Object(n.useState)(!1),r=Object(p.f)();return Object(n.useEffect)((()=>{(async()=>{try{const{data:e}=await x.get("dj-rest-auth/user/");s(e)}catch(e){}finally{o(!0)}})()}),[]),Object(n.useMemo)((()=>{g.interceptors.request.use((async e=>{if(localStorage.getItem("refreshTokenTimestamp"))try{await O.a.post("/dj-rest-auth/token/refresh/")}catch(t){return s((e=>(e&&r.push("/signin"),null))),_(),e}return e}),(e=>Promise.reject(e))),x.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){try{await O.a.post("/dj-rest-auth/token/refresh/")}catch(e){s((e=>(e&&r.push("/signin"),null))),_()}return O()(e.config)}return Promise.reject(e)}))}),[r]),Object(f.jsx)(v.Provider,{value:{currentUser:a,currentUserLoaded:c},children:Object(f.jsx)(C.Provider,{value:s,children:t})})};var w=()=>{const{currentUser:e,currentUserLoaded:t}=N(),a=y(),n=Object(p.f)();return Object(f.jsx)(l.a,{className:u.a.Navbar,expand:"md",fixed:"top",children:Object(f.jsxs)(d.a,{children:[Object(f.jsxs)(l.a.Brand,{as:h.c,to:"/",children:["CelebrateIt"," ",null!==e&&void 0!==e&&e.first_name||null!==e&&void 0!==e&&e.username?`| ${e.first_name||e.username}`:""]}),Object(f.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(f.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(f.jsxs)(m.a,{className:"ml-auto text-left",children:[Object(f.jsx)(m.a.Link,{as:h.c,exact:!0,to:"/",children:"Home"}),e&&e?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(h.c,{to:"/recognitions/create",className:"nav-link",children:"Recognize"}),Object(f.jsx)(h.c,{to:"/nominations/create",className:"nav-link",children:"Nominate"}),Object(f.jsx)(h.c,{to:`/profiles/${null===e||void 0===e?void 0:e.profile_id}`,className:"nav-link",children:"Profile"}),Object(f.jsx)(m.a.Link,{as:h.c,to:"/",onClick:async()=>{try{await g.post("/dj-rest-auth/logout/"),a(null),_(),n.push("/login?loggedOut=true")}catch(e){console.error("Logout failed:",e)}},children:"Logout"})]}):t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m.a.Link,{as:h.c,to:"/login",children:"Log In"}),Object(f.jsx)(m.a.Link,{as:h.c,to:"/register",children:"Register"})]}):null]})})]})})},F=a(126),P=a(127),k=a(87),I=a(86),T=a(135),$=a(131),D=a(125),L=a(130),B=a(66),A=a.n(B);const E=s.a.forwardRef(((e,t)=>{let{onClick:a}=e;return Object(f.jsx)("i",{className:`fas fa-ellipsis-v ${A.a.DropdownToggle}`,ref:t,onClick:e=>{e.preventDefault(),a(e)},role:"button","aria-label":"options"})}));var R=e=>{let{handleEdit:t,handleDelete:a}=e;return Object(f.jsxs)(L.a,{align:"end",children:[Object(f.jsx)(L.a.Toggle,{as:E}),Object(f.jsxs)(L.a.Menu,{children:[t&&Object(f.jsxs)(L.a.Item,{className:A.a.DropdownItem,onClick:t,children:[Object(f.jsx)("i",{className:"fas fa-edit"}),"Edit"]}),a&&Object(f.jsxs)(L.a.Item,{className:A.a.DropdownItem,onClick:a,children:[Object(f.jsx)("i",{className:"fas fa-trash-alt"}),"Delete"]})]})]})},W=a(128);var G=function(e){let{show:t,onHide:a,onConfirm:n,message:s="Are you sure you want to delete this?"}=e;return Object(f.jsxs)(W.a,{show:t,onHide:a,centered:!0,children:[Object(f.jsx)(W.a.Header,{closeButton:!0,children:Object(f.jsx)(W.a.Title,{children:"Confirm Deletion"})}),Object(f.jsx)(W.a.Body,{children:s}),Object(f.jsxs)(W.a.Footer,{children:[Object(f.jsx)(I.a,{variant:"secondary",onClick:a,children:"Cancel"}),Object(f.jsx)(I.a,{variant:"danger",onClick:n,children:"Delete"})]})]})},U=a(8),H=a.n(U),M=a(134),Y=a(17),V=a.n(Y);var z=function(e){const{profile_image:t,display_name:a,created_at:n,renderDropdown:s}=e;return console.log("Profile image src:",t),Object(f.jsxs)("div",{className:V.a.PostHeaderWrapper,children:[Object(f.jsxs)("div",{className:V.a.HeaderLeft,children:[Object(f.jsx)("img",{src:t,alt:a,className:V.a.Avatar}),Object(f.jsx)("strong",{children:a})]}),Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsx)("small",{className:"text-muted me-2",children:n}),s]})]})};var Z=e=>{const{title:t,content:a,display_name:n,profile_image:s,created_at:c,renderDropdown:o,postActions:r,children:i,extraContent:l,linkTo:d,metaTop:m}=e,j=Object(f.jsxs)(M.a.Body,{children:[Object(f.jsx)(z,{display_name:n,profile_image:s,created_at:c,renderDropdown:o}),m&&Object(f.jsx)("div",{className:H.a.MetaTopWrapper,children:m}),Object(f.jsx)("h5",{className:H.a.PostTitle,children:t}),Object(f.jsx)("p",{className:H.a.PostContent,children:a}),l&&Object(f.jsx)("div",{className:H.a.ViewFullWrapper,children:l}),i&&Object(f.jsx)("div",{className:H.a.PostChildren,children:i})]});return Object(f.jsxs)(M.a,{className:`mb-3 ${H.a.CardWrapper}`,children:[d?Object(f.jsx)(h.b,{to:d,style:{textDecoration:"none",color:"inherit"},children:j}):j,r]})};var K=e=>{const{id:t,title:a,content:s,image:c,display_name:o,profile_image:r,created_at:i,likes_count:l,comments_count:d,is_user:m,like_id:j,setRecognitions:u,onPostDelete:b,detailUrl:O=`/recognitions/${t}`,editUrl:_=`/recognitions/${t}/edit`,deleteUrl:v=`/posts/${t}`}=e,{currentUser:C,currentUserLoaded:y}=N(),S=Object(p.f)(),[w,F]=Object(n.useState)(!1);if(!y)return null;const P=s.length>150?s.slice(0,s.slice(0,150).lastIndexOf(" "))+"...":s,k=Object(f.jsxs)("div",{className:H.a.PostFooter,children:[Object(f.jsxs)("div",{className:H.a.ActionItem,children:[m?Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{id:`tooltip-self-like-${t}`,children:"Can't like your own recognition!"}),children:Object(f.jsx)("span",{className:H.a.DisabledIcon,children:Object(f.jsx)("i",{className:"far fa-thumbs-up"})})}):j?Object(f.jsx)("span",{onClick:async()=>{try{console.log("Trying to unlike with like_id:",j),await x.delete(`/likes/${j}/`),u((e=>e.map((e=>e.id===t?{...e,likes_count:e.likes_count-1,like_id:null}:e))))}catch(e){console.log(e)}},className:`${H.a.ActionItem} ${H.a.Clickable}`,children:Object(f.jsx)("i",{className:`fas fa-thumbs-up ${H.a.Heart} ${H.a.Clickable}`})}):C?Object(f.jsx)("span",{onClick:async()=>{try{const{data:e}=await x.post("/likes/",{post:t});console.log("Like API response:",e),u((a=>a.map((a=>a.id===t?{...a,likes_count:a.likes_count+1,like_id:e.id}:a)))),console.log("Recognition updated with new like_id:",e.id)}catch(e){console.log(e)}},className:`${H.a.ActionItem} ${H.a.Clickable}`,children:Object(f.jsx)("i",{className:`far fa-thumbs-up ${H.a.HeartOutline} ${H.a.Clickable}`})}):Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{id:`tooltip-login-like-${t}`,children:"Log in to like recognitions!"}),children:Object(f.jsx)("span",{className:H.a.DisabledIcon,children:Object(f.jsx)("i",{className:"far fa-thumbs-up"})})}),Object(f.jsx)("span",{children:l})]}),Object(f.jsxs)(h.b,{to:`/recognitions/${t}`,className:`${H.a.ActionItem} ${H.a.Clickable}`,children:[Object(f.jsx)("i",{className:"far fa-comment"}),Object(f.jsx)("span",{children:d})]})]});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Z,{title:a,content:P,display_name:o,profile_image:r,created_at:i,likes_count:l,comments_count:d,renderDropdown:m&&Object(f.jsx)(R,{handleEdit:()=>S.push(_),handleDelete:()=>F(!0)}),postActions:k,extraContent:Object(f.jsx)("div",{className:H.a.ViewFullPostWrapper,children:Object(f.jsx)(h.b,{to:O,className:H.a.ViewFullPostLink,children:"View full post"})}),children:c&&Object(f.jsx)("div",{className:H.a.ImageWrapper,children:Object(f.jsx)("img",{src:c,alt:a,className:H.a.PostImage})})}),Object(f.jsx)(G,{show:w,onHide:()=>F(!1),onConfirm:async()=>{try{await g.delete(v),b&&b(t),S.push("/?deleted=true")}catch(e){console.error("Delete failed:",e)}finally{F(!1)}}})]})};var q=e=>{const{id:t,title:a,content:s,display_name:c,profile_image:o,created_at:r,is_user:i,nominee_display_name:l,tag:d,tag_color:m,onPostDelete:j,detailUrl:u=`/nominations/${t}`,editUrl:b=`/nominations/${t}/edit`,deleteUrl:O=`/nominations/${t}`}=e,{currentUserLoaded:x}=N(),_=Object(p.f)(),[v,C]=Object(n.useState)(!1);if(!x)return null;const y=s.length>150?s.slice(0,s.slice(0,150).lastIndexOf(" "))+"...":s;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Z,{title:a,content:y,display_name:c,profile_image:o,created_at:r,renderDropdown:i&&Object(f.jsx)(R,{handleEdit:()=>_.push(b),handleDelete:()=>C(!0)}),metaTop:l&&d&&Object(f.jsxs)("p",{className:H.a.NominationMeta,children:[Object(f.jsx)("strong",{children:l})," was nominated by"," ",Object(f.jsx)("strong",{children:c})," ",Object(f.jsx)("span",{style:{backgroundColor:m,color:"#fff",padding:"2px 8px",borderRadius:"12px",fontSize:"0.8rem"},children:d})]}),extraContent:s.length>150&&Object(f.jsx)("div",{className:H.a.ViewFullPostWrapper,children:Object(f.jsx)(h.b,{to:u,className:H.a.ViewFullPostLink,children:"View full post"})})}),Object(f.jsx)(G,{show:v,onHide:()=>C(!1),onConfirm:async()=>{try{await g.delete(O),j&&j(t),_.push("/?deleted=true")}catch(e){console.error("Delete failed:",e)}finally{C(!1)}}})]})},Q=a(67),X=a.n(Q);var J=e=>{let{message:t="Loading..."}=e;return Object(f.jsxs)("div",{className:X.a.LoaderWrapper,children:[Object(f.jsx)("div",{className:X.a.Spinner}),Object(f.jsx)("p",{className:X.a.Message,children:t})]})},ee=a(24),te=a.n(ee);var ae=()=>{const e=Object(p.g)(),t="true"===new URLSearchParams(e.search).get("deleted"),a=Object(p.f)(),[s,c]=Object(n.useState)(t),[o,r]=Object(n.useState)(!1),[i,l]=Object(n.useState)(!1),[m,j]=Object(n.useState)(""),[u,h]=Object(n.useState)(""),[b,g]=Object(n.useState)([]),[x,_]=Object(n.useState)([]),[v,C]=Object(n.useState)([]);return Object(n.useEffect)((()=>{const t="true"===new URLSearchParams(e.search).get("deleted");c(t)}),[e.search]),Object(n.useEffect)((()=>{if(s){const e=setTimeout((()=>c(!1)),4e3);return()=>clearTimeout(e)}}),[s]),Object(n.useEffect)((()=>{O.a.get("/posts/").then((e=>g(e.data.results))).catch((e=>console.error(e))).finally((()=>l(!0)))}),[]),Object(n.useEffect)((()=>{O.a.get("/nominations/").then((e=>_(e.data.results))).catch((e=>console.error("Error fetching nominations:",e)))}),[]),Object(n.useEffect)((()=>{O.a.get("/user-profiles/").then((e=>C(e.data.results||e.data))).catch((e=>console.error("Error fetching people:",e)))}),[]),Object(f.jsxs)(d.a,{children:[s&&Object(f.jsx)(F.a,{variant:"success",onClose:()=>c(!1),dismissible:!0,children:"The post has been deleted successfully."}),Object(f.jsxs)(P.a,{children:[Object(f.jsx)(k.a,{md:8,children:Object(f.jsxs)("div",{className:te.a.FeedContent,children:[Object(f.jsxs)("div",{className:te.a.FeedToggleButtons,children:[Object(f.jsx)(I.a,{variant:"none",className:`${te.a.FeedButton} ${o?te.a.FeedToggleInactive:te.a.FeedToggleActive}`,onClick:()=>r(!1),children:"Recognition Stories"}),Object(f.jsx)(I.a,{variant:"none",className:`${te.a.FeedButton} ${o?te.a.FeedToggleActive:te.a.FeedToggleInactive}`,onClick:()=>r(!0),children:"Nominations"})]}),i?Object(f.jsx)(f.Fragment,{children:o?x.length?x.map((e=>Object(f.jsx)(q,{...e,setPosts:_,onPostDelete:e=>_((t=>t.filter((t=>t.id!==e))))},`nom-${e.id}`))):Object(f.jsx)("div",{children:"No nominations yet"}):b.length?b.map((e=>Object(f.jsx)(K,{...e,setRecognitions:g,onPostDelete:e=>g((t=>t.filter((t=>t.id!==e))))},`post-${e.id}`))):Object(f.jsx)("div",{children:"No recognitions yet"})}):Object(f.jsx)(J,{message:"Loading feed..."})]})}),Object(f.jsxs)(k.a,{md:4,children:[Object(f.jsxs)("div",{className:te.a.SearchFilterBlock,children:[Object(f.jsx)("input",{type:"text",className:te.a.FilterInput,placeholder:"Search people...",value:m,onChange:e=>j(e.target.value)}),Object(f.jsxs)("select",{className:te.a.FilterSelect,value:u,onChange:e=>h(e.target.value),children:[Object(f.jsx)("option",{value:"",children:"All Departments"}),[...new Set(v.map((e=>e.department)).filter(Boolean))].map((e=>Object(f.jsx)("option",{value:e,children:e},e)))]})]}),v.filter((e=>{const t=`${e.first_name} ${e.last_name}`.toLowerCase().includes(m.toLowerCase()),a=!u||e.department===u;return t&&a})).map((e=>Object(f.jsx)(T.a.Item,{className:te.a.PersonItem,onClick:()=>a.push(`/profiles/${e.id}`),style:{cursor:"pointer"},children:Object(f.jsxs)("div",{className:te.a.PersonContent,children:[Object(f.jsx)("img",{src:e.profile_image,alt:`${e.first_name}'s avatar`}),Object(f.jsxs)("span",{children:[e.first_name," ",e.last_name]})]})},e.id)))]})]})]})},ne=a(129),se=a(11),ce=a.n(se);var oe=function(e){const t=Object(p.f)(),{submitText:a="Submit",onCancel:n,disabled:s=!1,showCancel:c=!0}=e;return Object(f.jsxs)("div",{className:ce.a.FormButtonRow,children:[Object(f.jsx)(I.a,{type:"submit",className:i.a.YellowButton,disabled:s,children:a}),c&&Object(f.jsx)(I.a,{className:i.a.BlueButton,variant:"outline-secondary",onClick:n||(()=>t.goBack()),children:"Cancel"})]})};var re=e=>{var t,a;let{title:n,content:s,handleChange:c,handleSubmit:o,children:r,submitText:i="Submit",onCancel:l,errors:d}=e;return Object(f.jsxs)(ne.a,{onSubmit:o,className:ce.a.FormWrapper,children:[Object(f.jsxs)(ne.a.Group,{controlId:"title",className:ce.a.FormGroupSpacing,children:[Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"Enter a short, clear post title"}),children:Object(f.jsx)(ne.a.Control,{type:"text",placeholder:"Enter title",name:"title",value:n,onChange:c})}),null===d||void 0===d||null===(t=d.title)||void 0===t?void 0:t.map(((e,t)=>Object(f.jsx)("div",{className:"text-danger mt-1",children:e},t)))]}),Object(f.jsxs)(ne.a.Group,{controlId:"content",className:ce.a.FormGroupSpacing,children:[Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"Write the story you want to share"}),children:Object(f.jsx)(ne.a.Control,{as:"textarea",rows:10,placeholder:"Write your story...",name:"content",value:s,onChange:c})}),null===d||void 0===d||null===(a=d.content)||void 0===a?void 0:a.map(((e,t)=>Object(f.jsx)("div",{className:"text-danger mt-1",children:e},t)))]}),r,Object(f.jsx)(oe,{submitText:i,onCancel:l})]})};var ie=function(){const[e,t]=Object(n.useState)({title:"",content:"",image:null}),{title:a,content:s,image:c}=e,[o,r]=Object(n.useState)({}),i=Object(p.f)(),l=y(),m=a=>{const{name:n,value:s,files:c}=a.target;if("image"===n){const a=c[0];if(a&&a.size>5242880)return void alert("Image must be smaller than 5MB.");t({...e,image:c[0]})}else t({...e,[n]:s})};return Object(f.jsx)(d.a,{children:Object(f.jsx)(re,{title:a,content:s,handleChange:m,handleSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",a),t.append("content",s),c&&t.append("image",c);try{const{data:e}=await g.post("/posts/",t);l(await x.get("/dj-rest-auth/user/").then((e=>e.data))),i.push(`/recognitions/${e.id}?created=true`)}catch(m){var n,o,d;if(401!==(null===(n=m.response)||void 0===n?void 0:n.status))r(null===(d=m.response)||void 0===d?void 0:d.data);console.error(null===(o=m.response)||void 0===o?void 0:o.data)}},submitText:"Create",onCancel:()=>i.push("/"),errors:o,children:Object(f.jsx)(ne.a.Group,{controlId:"image",className:ce.a.FormMediaWrapper,children:Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"Upload an image (optional)"}),children:Object(f.jsx)(ne.a.Control,{type:"file",name:"image",onChange:m})})})})})};var le=function(e){let{postId:t,onCommentSubmit:a,disabled:s=!1}=e;const[c,o]=Object(n.useState)(""),[r,i]=Object(n.useState)({}),l=c.trim().length>0,d=e=>{o(e.target.value)};return Object(f.jsxs)(ne.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await g.post("/comments/",{content:c,post:t});o(""),i({}),a&&a(e)}catch(s){var n;i((null===(n=s.response)||void 0===n?void 0:n.data)||{})}},className:ce.a.FormWrapper,children:[Object(f.jsxs)(ne.a.Group,{controlId:"commentText",className:ce.a.FormGroupSpacing,children:[s?Object(f.jsx)(ne.a.Control,{as:"textarea",rows:2,placeholder:"Log in to comment",name:"comment",disabled:!0,value:c,onChange:d}):Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"Add your comment"}),children:Object(f.jsx)(ne.a.Control,{as:"textarea",rows:2,placeholder:"Write a comment...",name:"comment",disabled:s,value:c,onChange:d})}),(null===r||void 0===r?void 0:r.content)&&Object(f.jsx)("div",{className:"text-danger mt-2",children:r.content})]}),Object(f.jsx)(oe,{submitText:"Post",disabled:s||!l,showCancel:!1})]})},de=a(33),me=a.n(de);var je=function(e){const{comment:t,setEditingComment:a,setShowDeleteModal:n}=e;return Object(f.jsxs)("div",{className:me.a.SingleComment,children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[Object(f.jsx)("strong",{className:me.a.CommentAuthor,children:t.display_name}),t.is_user&&Object(f.jsx)(R,{handleEdit:()=>a(t),handleDelete:()=>n(t.id)})]}),Object(f.jsx)("p",{className:me.a.CommentText,children:t.content}),Object(f.jsx)("small",{className:me.a.CommentDate,children:t.created_at})]})};var ue=function(e){const{comment:t,setComments:a,setEditingComment:s,onCancel:c}=e,[o,r]=Object(n.useState)(t.content);return Object(f.jsxs)(ne.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await g.patch(`/comments/${t.id}/`,{content:o});a((a=>a.map((a=>a.id===t.id?e:a)))),s(null)}catch(n){console.error("Update failed:",n)}},className:me.a.SingleComment,children:[Object(f.jsx)(ne.a.Group,{children:Object(f.jsx)(ne.a.Control,{as:"textarea",value:o,onChange:e=>{r(e.target.value)},rows:2,className:me.a.CommentText})}),Object(f.jsx)(oe,{submitText:"Update",onCancel:c})]})};var pe=function(){const{id:e}=Object(p.h)(),t=Object(p.f)(),a=Object(p.g)(),{currentUser:s}=N(),[c,o]=Object(n.useState)(null),[r,i]=Object(n.useState)([]),[l,m]=Object(n.useState)(!1),[j,u]=Object(n.useState)(!1),[h,b]=Object(n.useState)(null),[_,v]=Object(n.useState)(null),C=!(null===c||void 0===c||!c.nominee);let y=null;const S=new URLSearchParams(a.search),w="true"===S.get("created"),P="true"===S.get("updated"),k=w||P,I=w?"Your recognition has been published!":P?"Your recognition has been updated!":"";if(Object(n.useEffect)((()=>{if(k){const e=setTimeout((()=>{const e=a.pathname;t.replace(e)}),4e3);return()=>clearTimeout(e)}}),[k,t,a.pathname]),Object(n.useEffect)((()=>{if(j){const e=setTimeout((()=>u(!1)),3e3);return()=>clearTimeout(e)}}),[j]),Object(n.useEffect)((()=>{O.a.get(`/posts/${e}/`).then((e=>{o(e.data)})).catch((e=>{console.error("Error fetching recognitions details:",e)}))}),[e]),Object(n.useEffect)((()=>{O.a.get(`/comments/?post=${e}`).then((e=>{i(e.data.results||e.data)})).catch((e=>{console.error("Error fetching comments:",e)}))}),[e,s]),!c)return Object(f.jsx)(d.a,{children:"Loading..."});y=c.is_user?Object(f.jsx)(R,{handleEdit:()=>t.push(`/recognitions/${c.id}/edit`),handleDelete:()=>{m(!0)}}):null;const T=C?null:Object(f.jsxs)("div",{className:H.a.PostFooter,children:[Object(f.jsxs)("div",{className:H.a.ActionItem,children:[c.is_user?Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{id:"tooltip-self-like",children:"Can't like your own recognition!"}),children:Object(f.jsx)("span",{style:{cursor:"not-allowed"},children:Object(f.jsx)("i",{className:"far fa-thumbs-up"})})}):c.like_id?Object(f.jsx)("span",{onClick:async()=>{try{await x.delete(`/likes/${c.like_id}/`),o((e=>({...e,likes_count:e.likes_count-1,like_id:null})))}catch(e){console.log(e)}},style:{cursor:"pointer"},children:Object(f.jsx)("i",{className:`fas fa-thumbs-up ${H.a.Heart}`})}):s?Object(f.jsx)("span",{onClick:async()=>{try{const{data:e}=await x.post("/likes/",{post:c.id});o((t=>({...t,likes_count:t.likes_count+1,like_id:e.id})))}catch(e){console.log(e)}},style:{cursor:"pointer"},children:Object(f.jsx)("i",{className:`far fa-thumbs-up ${H.a.HeartOutline}`})}):Object(f.jsx)("i",{className:"far fa-thumbs-up",title:"Log in to like posts!"}),Object(f.jsx)("span",{children:c.likes_count})]}),Object(f.jsxs)("div",{className:H.a.ActionItem,children:[Object(f.jsx)("i",{className:"far fa-comment"}),Object(f.jsx)("span",{children:c.comments_count})]})]});return Object(f.jsxs)(d.a,{children:[k&&Object(f.jsx)(F.a,{variant:"success",dismissible:!0,children:I}),j&&Object(f.jsx)(F.a,{variant:"success",dismissible:!0,children:"Comment posted successfully!"}),Object(f.jsx)(Z,{title:c.title,content:c.content,image:c.image,display_name:c.display_name,profile_image:c.profile_image,created_at:c.created_at,likes_count:c.likes_count,comments_count:c.comments_count,renderDropdown:y,postActions:T,children:Object(f.jsxs)(f.Fragment,{children:[c.image&&Object(f.jsx)("div",{className:H.a.ImageWrapper,children:Object(f.jsx)("img",{src:c.image,alt:c.title,className:H.a.PostImage})}),s?Object(f.jsx)(le,{postId:c.id,onCommentSubmit:e=>{i((t=>[e,...t])),o((e=>({...e,comments_count:e.comments_count+1}))),u(!0)}}):Object(f.jsxs)("p",{className:H.a.LoginToComment,children:[Object(f.jsx)("i",{className:"far fa-comment"})," Log in to leave a comment."]}),Object(f.jsx)("div",{className:me.a.CommentSection}),r.length?r.map((e=>(null===h||void 0===h?void 0:h.id)===e.id?Object(f.jsx)("div",{className:H.a.CommentBlock,children:Object(f.jsx)(ue,{comment:e,postId:c.id,setComments:i,setEditingComment:b,onCancel:()=>b(null)})},e.id):Object(f.jsx)(je,{comment:e,setEditingComment:b,setShowDeleteModal:v},e.id))):Object(f.jsx)("p",{className:"text-muted px-3",children:"No comments yet."})]})}),Object(f.jsx)(G,{show:l,onHide:()=>m(!1),onConfirm:async()=>{try{await g.delete(`/posts/${c.id}/`),t.push("/?deleted=true")}catch(e){console.error("Delete failed:",e)}finally{m(!1)}}}),Object(f.jsx)(G,{show:!!_,onHide:()=>v(null),onConfirm:async()=>{try{await g.delete(`/comments/${_}/`),i((e=>e.filter((e=>e.id!==_)))),o((e=>({...e,comments_count:e.comments_count-1})))}catch(e){console.error("Error deleting comment:",e)}finally{v(null)}}})]})};var he=function(){const{id:e}=Object(p.h)(),t=Object(p.f)(),[a,s]=Object(n.useState)({title:"",content:"",image:null}),[c,o]=Object(n.useState)(!1),{title:r,content:i,image:l}=a;Object(n.useEffect)((()=>{g.get(`/posts/${e}/`).then((e=>{const{title:t,content:a,image:n}=e.data;s({title:t,content:a,image:n})})).catch((e=>{console.error("Error fetching recognition:",e),t.push("/")}))}),[e,t]);const m=e=>{const{name:t,value:n,files:c}=e.target;s("image"===t?{...a,image:c[0]}:{...a,[t]:n})};return Object(f.jsx)(d.a,{children:Object(f.jsx)(re,{title:r,content:i,image:l,handleChange:m,handleSubmit:async a=>{a.preventDefault();const n=new FormData;n.append("title",r),n.append("content",i),c?n.append("image",""):l&&"string"!==typeof l&&n.append("image",l);try{await g.patch(`/posts/${e}/`,n),t.push(`/recognitions/${e}?updated=true`)}catch(o){var s;console.error("Submission error:",null===(s=o.response)||void 0===s?void 0:s.data)}},submitText:"Update",onCancel:()=>t.push(`/recognitions/${e}`),children:Object(f.jsxs)(ne.a.Group,{className:ce.a.FormMediaWrapper,children:["string"===typeof l&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:l,alt:"Current",className:ce.a.FormImagePreview}),Object(f.jsxs)("div",{className:"d-flex align-items-center gap-2 mt-2 mb-3",children:[Object(f.jsx)(ne.a.Check,{type:"checkbox",id:"remove-image",label:"",checked:c,onChange:e=>o(e.target.checked)}),Object(f.jsx)(ne.a.Label,{htmlFor:"remove-image",className:"mb-0",children:"Remove image"})]})]}),Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"Upload an image (optional)"}),children:Object(f.jsx)(ne.a.Control,{type:"file",name:"image",onChange:m})})]})})})};var be=function(){var e,t;const[a,s]=Object(n.useState)({title:"",content:"",tag:""}),{title:c,content:o,tag:r}=a,[i,l]=Object(n.useState)(""),[m,j]=Object(n.useState)(""),[u,h]=Object(n.useState)([]),[b,O]=Object(n.useState)([]),[_,v]=Object(n.useState)({}),C=Object(p.f)(),N=Object(p.g)(),S=y();Object(n.useEffect)((()=>{(async()=>{try{const{data:e}=await g.get("/tags/");console.log("Fetched tags:",e),O(e.results)}catch(e){console.error("Error fetching tags:",e)}})()}),[]),Object(n.useEffect)((()=>{i?g.get(`/users/?search=${i}`).then((e=>{h(e.data.results),console.log("Nominee results:",e.data)})).catch((e=>{console.error("Error fetching nominees:",e)})):h([])}),[i]),Object(n.useEffect)((()=>{const e=new URLSearchParams(N.search),t=e.get("name"),a=e.get("nominee");t&&a&&(l(t),j(a))}),[N.search]);const w=e=>{const{name:t,value:a}=e.target;"nominee"===t?(l(a),j("")):s((e=>({...e,[t]:a})))};return Object(f.jsx)(d.a,{children:Object(f.jsx)(re,{title:c,content:o,handleChange:w,handleSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",c),t.append("content",o),t.append("nominee",m),r&&t.append("tag",r);try{const{data:e}=await g.post("/nominations/",t);S(await x.get("/dj-rest-auth/user/").then((e=>e.data))),C.push(`/nominations/${e.id}?created=true`)}catch(i){var a,n,s;if(401!==(null===(a=i.response)||void 0===a?void 0:a.status))v(null===(s=i.response)||void 0===s?void 0:s.data);console.error(null===(n=i.response)||void 0===n?void 0:n.data)}},submitText:"Create",onCancel:()=>{C.push("/")},errors:_,children:Object(f.jsxs)(ne.a.Group,{controlId:"nominee",className:ce.a.FormMediaWrapper,children:[Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"Search for a teammate by first or last name"}),children:Object(f.jsx)(ne.a.Control,{type:"text",name:"nominee",placeholder:"Start typing a name...",value:i,onChange:w})}),null===_||void 0===_||null===(e=_.nominee)||void 0===e?void 0:e.map(((e,t)=>Object(f.jsx)("div",{className:"text-danger mt-1",children:e},t))),u.length>0&&Object(f.jsx)("div",{className:ce.a.SuggestionBox,children:u.map((e=>Object(f.jsxs)("div",{className:ce.a.SuggestionItem,onClick:()=>(e=>{j(e.id),l(`${e.first_name} ${e.last_name}`),h([])})(e),children:[e.first_name," ",e.last_name]},e.id)))})]}),Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"Pick a tag that reflects the nomination"}),children:Object(f.jsxs)(ne.a.Control,{as:"select",name:"tag",value:r,onChange:w,children:[Object(f.jsx)("option",{value:"",children:"Select a tag"}),b.map((e=>Object(f.jsx)("option",{value:e.name,children:e.name},e.id)))]})}),null===_||void 0===_||null===(t=_.tag)||void 0===t?void 0:t.map(((e,t)=>Object(f.jsx)("div",{className:"text-danger mt-1",children:e},t)))]})})})};var Oe=function(){const{id:e}=Object(p.h)(),t=Object(p.f)(),[a,s]=Object(n.useState)(!1),c=Object(p.g)(),[o,r]=Object(n.useState)(null);let i=null;const l=new URLSearchParams(c.search),m="true"===l.get("created"),j="true"===l.get("updated"),u=m||j,h=m?"Your nomination has been published!":j?"Your nomination has been updated!":"";return Object(n.useEffect)((()=>{if(u){const e=setTimeout((()=>{const e=c.pathname;t.replace(e)}),4e3);return()=>clearTimeout(e)}}),[u,t,c.pathname]),Object(n.useEffect)((()=>{O.a.get(`/nominations/${e}/`).then((e=>{r(e.data)})).catch((e=>{console.error("Error fetching nomination details:",e)}))}),[e]),o?(i=o.is_user?Object(f.jsx)(R,{handleEdit:()=>t.push(`/nominations/${o.id}/edit`),handleDelete:()=>{s(!0)}}):null,Object(f.jsxs)(d.a,{children:[u&&Object(f.jsx)(F.a,{variant:"success",dismissible:!0,children:h}),Object(f.jsx)(Z,{title:o.title,content:o.content,display_name:o.display_name,profile_image:o.profile_image,created_at:o.created_at,renderDropdown:i,metaTop:o.nominee_display_name&&o.tag&&Object(f.jsxs)("p",{className:H.a.NominationMeta,children:[Object(f.jsx)("strong",{children:o.nominee_display_name})," was nominated by ",Object(f.jsx)("strong",{children:o.display_name})," ",Object(f.jsx)("span",{style:{backgroundColor:o.tag_color,color:"#fff",padding:"2px 8px",borderRadius:"12px",fontSize:"0.8rem"},children:o.tag})]})}),Object(f.jsx)(G,{show:a,onHide:()=>s(!1),onConfirm:async()=>{try{await g.delete(`/nominations/${o.id}/`),t.push("/?deleted=true")}catch(e){console.error("Error deleting nomination:",e)}finally{s(!1)}}})]})):Object(f.jsx)(d.a,{children:"Loading..."})};var ge=function(){const{id:e}=Object(p.h)(),t=Object(p.f)(),[a,s]=Object(n.useState)({title:"",content:"",nominee_display_name:"",tag:""}),{title:c,content:o,nominee_display_name:r,tag:i}=a,[l,m]=Object(n.useState)([]);Object(n.useEffect)((()=>{g.get(`/nominations/${e}/`).then((e=>{const{title:t,content:a,nominee_display_name:n,tag:c}=e.data;s({title:t,content:a,nominee_display_name:n,tag:c})})).catch((e=>{console.error("Error fetching nominations:",e),t.push("/")}))}),[e,t]),Object(n.useEffect)((()=>{g.get("/tags/").then((e=>m(e.data.results))).catch((e=>{console.error("Error fetching tags:",e)}))}),[]);const j=e=>{const{name:t,value:n}=e.target;s({...a,[t]:n})};return Object(f.jsx)(d.a,{children:Object(f.jsx)(re,{title:c,content:o,handleChange:j,handleSubmit:async a=>{a.preventDefault();const n=new FormData;n.append("title",c),n.append("content",o),n.append("tag",i);try{await g.patch(`/nominations/${e}/`,n),t.push(`/nominations/${e}?updated=true`)}catch(r){var s;console.error("Submission error:",null===(s=r.response)||void 0===s?void 0:s.data)}},submitText:"Update",onCancel:()=>t.push(`/nominations/${e}`),children:Object(f.jsxs)(ne.a.Group,{className:ce.a.FormMediaWrapper,children:[Object(f.jsx)(ne.a.Label,{className:"mb-2",children:Object(f.jsx)("strong",{children:"Nominee:"})}),Object(f.jsx)("div",{className:"mb-3",children:r}),Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"Select a new tag if needed"}),children:Object(f.jsxs)(ne.a.Control,{as:"select",name:"tag",value:i,onChange:j,children:[Object(f.jsx)("option",{value:"",children:"Select a tag"}),l.map((e=>Object(f.jsx)("option",{value:e.name,children:e.name},e.id)))]})})]})})})};var xe=()=>{const{id:e}=Object(p.h)(),t=Object(p.f)(),a=Object(p.g)(),[s,c]=Object(n.useState)(new URLSearchParams(a.search).get("updated")),{currentUser:o}=N(),[r,l]=Object(n.useState)(null),[m,j]=Object(n.useState)([]),[u,h]=Object(n.useState)([]),[b,O]=Object(n.useState)(!1),[x,_]=Object(n.useState)(!1),[v,C]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{if(s){const e=setTimeout((()=>c(!1)),4e3);return()=>clearTimeout(e)}}),[s]),Object(n.useEffect)((()=>{(async()=>{try{const{data:t}=await g.get(`/user-profiles/${e}/`);l(t),O(!0)}catch(t){console.error("Error fetching profile:",t)}})()}),[e]),Object(n.useEffect)((()=>{e&&g.get(`/posts/?user__profile=${e}`).then((e=>j(e.data.results))).catch((e=>console.error("Error fetching recognitions:",e))).finally((()=>_(!0)))}),[e]),Object(n.useEffect)((()=>{e&&g.get(`/nominations/?nominator__profile=${e}`).then((e=>h(e.data.results))).catch((e=>console.error("Error fetching nominations:",e))).finally((()=>C(!0)))}),[e]),console.log("currentUser =",o),console.log("profile.user =",null===r||void 0===r?void 0:r.user),console.log("profile.is_user_profile =",null===r||void 0===r?void 0:r.is_user_profile),b&&x&&v?Object(f.jsxs)(f.Fragment,{children:[s&&Object(f.jsx)("div",{className:"alert alert-success text-center mt-3",children:"Your profile has been updated!"}),Object(f.jsxs)(d.a,{children:[r&&Object(f.jsxs)("div",{className:V.a.ProfileWrapper,children:[Object(f.jsx)("div",{className:V.a.Banner}),Object(f.jsx)("div",{className:V.a.AvatarWrapper,children:Object(f.jsx)("img",{src:r.profile_image,alt:`${r.first_name} ${r.last_name}`,className:V.a.ProfileAvatar})}),Object(f.jsxs)("div",{className:V.a.ProfileDetails,children:[Object(f.jsx)("div",{className:V.a.NameRow,children:Object(f.jsxs)("div",{className:V.a.NameRow,children:[Object(f.jsxs)("h3",{children:[r.first_name," ",r.last_name]}),o?r.is_user_profile?Object(f.jsx)("span",{className:V.a.EditIcon,onClick:()=>t.push(`/profiles/${r.id}/edit`),children:Object(f.jsx)("i",{className:"fa-solid fa-pen"})}):Object(f.jsx)(I.a,{className:i.a.YellowButton,onClick:()=>t.push(`/nominations/create?nominee=${r.user}&name=${r.first_name} ${r.last_name}`),children:"Nominate"}):null]})}),Object(f.jsx)("p",{className:V.a.Department,children:r.department}),Object(f.jsx)("p",{className:V.a.Bio,children:r.presentation||"No bio yet."})]})]}),Object(f.jsxs)("div",{className:V.a.TwoColumnFeed,children:[Object(f.jsxs)("div",{className:V.a.FeedColumn,children:[Object(f.jsx)("div",{className:V.a.SectionTitlePurple,children:"Recognitions"}),m.filter((e=>e.user===r.user)).map((e=>Object(f.jsx)(K,{...e,setRecognitions:j,onPostDelete:e=>j((t=>t.filter((t=>t.id!==e))))},`post-${e.id}`)))]}),Object(f.jsxs)("div",{className:V.a.FeedColumn,children:[Object(f.jsx)("div",{className:V.a.SectionTitleYellow,children:"Nominations"}),u.filter((e=>e.nominator===r.user||e.nominee_username===r.user)).map((e=>Object(f.jsx)(q,{...e,setPosts:h,onPostDelete:e=>h((t=>t.filter((t=>t.id!==e))))},`nom-${e.id}`)))]})]})]})]}):Object(f.jsx)(J,{message:"Loading profile..."})};var _e=()=>{const{id:e}=Object(p.h)(),t=Object(p.f)(),a=y(),[s,c]=Object(n.useState)(null),[o,r]=Object(n.useState)(""),[i,l]=Object(n.useState)(""),[d,m]=Object(n.useState)(""),[j,u]=Object(n.useState)(null);Object(n.useEffect)((()=>{(async()=>{try{const{data:t}=await g.get(`/user-profiles/${e}/`);c(t),r(t.first_name),l(t.last_name),m(t.presentation||"")}catch(t){console.error("Error fetching profile:",t)}})()}),[e]);return Object(f.jsxs)("div",{className:"container mt-4",children:[Object(f.jsx)("h2",{children:"Edit your profile"}),s?Object(f.jsxs)(ne.a,{onSubmit:async e=>{e.preventDefault();const n=new FormData;n.append("first_name",o),n.append("last_name",i),n.append("presentation",d),j&&n.append("profile_image",j);try{const{data:e}=await g.patch(`/user-profiles/${s.id}/`,n);c(e),a(await x.get("/dj-rest-auth/user/").then((e=>e.data))),t.push(`/profiles/${s.id}?updated=true`)}catch(r){console.error("Error updating profile:",r)}},children:[Object(f.jsx)(ne.a.Group,{controlId:"firstName",className:ce.a.FormGroupSpacing,children:Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"To update your first name, please contact your HR representative"}),children:Object(f.jsx)(ne.a.Control,{type:"text",value:o,readOnly:!0,placeholder:"First Name"})})}),Object(f.jsx)(ne.a.Group,{controlId:"lastName",className:ce.a.FormGroupSpacing,children:Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"To update your last name, please contact your HR representative"}),children:Object(f.jsx)(ne.a.Control,{type:"text",value:i,readOnly:!0,placeholder:"Last Name"})})}),Object(f.jsx)(ne.a.Group,{controlId:"presentation",className:ce.a.FormGroupSpacing,children:Object(f.jsx)($.a,{placement:"top",overlay:Object(f.jsx)(D.a,{children:"Write a short bio about yourself"}),children:Object(f.jsx)(ne.a.Control,{as:"textarea",rows:3,value:d,onChange:e=>m(e.target.value),placeholder:"Write something about yourself"})})}),Object(f.jsxs)(ne.a.Group,{className:ce.a.FormGroupSpacing,children:[s.profile_image&&Object(f.jsx)("img",{src:s.profile_image,alt:"Current profile",className:ce.a.FormImagePreview}),Object(f.jsx)(ne.a.Control,{type:"file",name:"profile_image",onChange:e=>u(e.target.files[0])})]}),Object(f.jsx)(oe,{submitText:"Update",onCancel:()=>t.goBack()})]}):Object(f.jsx)("p",{children:"Loading profile..."})]})},fe=a(10),ve=a.n(fe),Ce=a.p+"static/media/auth_pic.305084ff.jpeg";var Ne=function(){const e=Object(p.g)(),[t,a]=Object(n.useState)(new URLSearchParams(e.search).get("registered")),[s,c]=Object(n.useState)(new URLSearchParams(e.search).get("loggedOut"));Object(n.useEffect)((()=>{if(t||s){const e=setTimeout((()=>{a(!1),c(!1)}),4e3);return()=>clearTimeout(e)}}),[t,s]);const o=y(),[r,l]=Object(n.useState)({username:"",password:""}),[m,j]=Object(n.useState)({}),{username:u,password:b}=r,x=Object(p.f)();function _(e){l({...r,[e.target.name]:e.target.value})}return Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)(F.a,{variant:"success",className:"mt-3 text-center",children:"Registration successful! Please log in."}),s&&Object(f.jsx)(F.a,{variant:"info",className:"mt-3 text-center",children:"You have been logged out."}),Object(f.jsx)(d.a,{className:"d-flex justify-content-center",children:Object(f.jsx)("div",{className:ve.a.gradient,children:Object(f.jsx)("div",{className:ve.a.gradientOverlay,children:Object(f.jsxs)("div",{className:ve.a.splitBox,children:[Object(f.jsxs)("div",{className:ve.a.formBox,children:[Object(f.jsx)("h2",{className:ve.a.AuthTitle,children:"LOGIN"}),Object.keys(m).length>0&&Object(f.jsx)("div",{className:ve.a.ErrorBox,children:Object(f.jsx)("ul",{className:"mb-0 ps-3",children:Object.values(m).flat().map(((e,t)=>Object(f.jsx)("li",{children:e},t)))})}),Object(f.jsxs)(ne.a,{onSubmit:async function(e){e.preventDefault();try{const{data:e}=await O.a.post("/dj-rest-auth/login/",r);localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token);const{data:t}=await g.get("/dj-rest-auth/user/");o(t),x.push("/")}catch(a){var t;j((null===(t=a.response)||void 0===t?void 0:t.data)||{})}},className:ve.a.FormWrapper,children:[Object(f.jsxs)(ne.a.Group,{controlId:"username",className:ve.a.FormGroupSpacing,children:[Object(f.jsx)(ne.a.Label,{className:"d-none",children:"Username"}),Object(f.jsx)(ne.a.Control,{type:"text",placeholder:"Username",name:"username",value:u,onChange:_})]}),Object(f.jsxs)(ne.a.Group,{controlId:"password",className:ve.a.FormGroupSpacing,children:[Object(f.jsx)(ne.a.Label,{className:"d-none",children:"Password"}),Object(f.jsx)(ne.a.Control,{type:"password",placeholder:"Password",name:"password",value:b,onChange:_})]}),Object(f.jsx)(I.a,{type:"submit",className:`${i.a.YellowButton} ${ve.a.CenteredButton}`,children:"Submit"})]}),Object(f.jsxs)("div",{className:ve.a.AuthLink,children:["OR",Object(f.jsx)(h.b,{to:"/register",className:ve.a.AuthLinkHighlight,children:"Sign up!"})]})]}),Object(f.jsx)("div",{className:ve.a.imageBox,children:Object(f.jsx)("img",{src:Ce,alt:"Sign in illustration",className:ve.a.AuthImage})})]})})})})]})},ye=a.p+"static/media/register_pic.769add72.jpg";var Se=function(){const[e,t]=Object(n.useState)({username:"",password1:"",password2:""}),[a,s]=Object(n.useState)({}),{username:c,password1:o,password2:r}=e,l=Object(p.f)();function m(a){t({...e,[a.target.name]:a.target.value})}return Object(f.jsx)(d.a,{className:"d-flex justify-content-center",children:Object(f.jsx)("div",{className:ve.a.gradient,children:Object(f.jsx)("div",{className:ve.a.gradientOverlay,children:Object(f.jsxs)("div",{className:ve.a.splitBox,children:[Object(f.jsxs)("div",{className:ve.a.formBox,children:[Object(f.jsx)("h2",{className:ve.a.AuthTitle,children:"Register"}),Object(f.jsxs)(ne.a,{onSubmit:async function(t){t.preventDefault();try{await g.post("/dj-rest-auth/registration/",e),l.push("/login?registered=true")}catch(n){var a;s((null===(a=n.response)||void 0===a?void 0:a.data)||{})}},className:ve.a.FormWrapper,children:[Object.keys(a).length>0&&Object(f.jsx)("div",{className:ve.a.ErrorBox,children:Object(f.jsx)("ul",{className:"mb-0 ps-3",children:Object.values(a).flat().map(((e,t)=>Object(f.jsx)("li",{children:e},t)))})}),Object(f.jsxs)(ne.a.Group,{controlId:"username",className:ve.a.FormGroupSpacing,children:[Object(f.jsx)(ne.a.Label,{className:"d-none",children:"Username"}),Object(f.jsx)(ne.a.Control,{type:"text",placeholder:"Username",name:"username",value:c,onChange:m})]}),Object(f.jsxs)(ne.a.Group,{controlId:"password1",className:ve.a.FormGroupSpacing,children:[Object(f.jsx)(ne.a.Label,{className:"d-none",children:"Password"}),Object(f.jsx)(ne.a.Control,{type:"password",placeholder:"Password",name:"password1",value:o,onChange:m})]}),Object(f.jsxs)(ne.a.Group,{controlId:"password2",className:ve.a.FormGroupSpacing,children:[Object(f.jsx)(ne.a.Label,{className:"d-none",children:"Confirm Password"}),Object(f.jsx)(ne.a.Control,{type:"password",placeholder:"Confirm Password",name:"password2",value:r,onChange:m})]}),Object(f.jsx)(I.a,{type:"submit",className:`${i.a.YellowButton} ${ve.a.CenteredButton}`,children:"Submit"})]}),Object(f.jsxs)("div",{className:ve.a.AuthLink,children:["OR",Object(f.jsx)(h.b,{to:"/login",className:ve.a.AuthLinkHighlight,children:"Log In!"})]})]}),Object(f.jsx)("div",{className:ve.a.imageBox,children:Object(f.jsx)("img",{src:ye,alt:"Register illustration",className:ve.a.AuthImage})})]})})})})};var we=function(){const{currentUserLoaded:e}=N();return e?Object(f.jsxs)("div",{className:i.a.App,children:[Object(f.jsx)(w,{}),Object(f.jsx)(d.a,{className:i.a.Main,children:Object(f.jsxs)(p.c,{children:[Object(f.jsx)(p.a,{exact:!0,path:"/",component:ae}),Object(f.jsx)(p.a,{exact:!0,path:"/recognitions/create",component:ie}),Object(f.jsx)(p.a,{exact:!0,path:"/recognitions/:id",component:pe}),Object(f.jsx)(p.a,{exact:!0,path:"/recognitions/:id/edit",component:he}),Object(f.jsx)(p.a,{exact:!0,path:"/nominations/create",component:be}),Object(f.jsx)(p.a,{exact:!0,path:"/nominations/:id",component:Oe}),Object(f.jsx)(p.a,{exact:!0,path:"/nominations/:id/edit",component:ge}),Object(f.jsx)(p.a,{exact:!0,path:"/profiles/:id",component:xe}),Object(f.jsx)(p.a,{exact:!0,path:"/profiles/:id/edit",component:_e}),Object(f.jsx)(p.a,{exact:!0,path:"/login",component:Ne}),Object(f.jsx)(p.a,{exact:!0,path:"/register",component:Se}),Object(f.jsx)(p.a,{render:()=>Object(f.jsx)("p",{children:"Page not found"})})]})})]}):null};var Fe=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,136)).then((t=>{let{getCLS:a,getFID:n,getFCP:s,getLCP:c,getTTFB:o}=t;a(e),n(e),s(e),c(e),o(e)}))};o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(h.a,{children:Object(f.jsx)(S,{children:Object(f.jsx)(we,{})})})}),document.getElementById("root")),Fe()},17:function(e,t,a){e.exports={PostHeaderWrapper:"Profile_PostHeaderWrapper__1u0tN",HeaderLeft:"Profile_HeaderLeft__1eICc",Avatar:"Profile_Avatar__3jahj",ProfileWrapper:"Profile_ProfileWrapper__2hX_C",Banner:"Profile_Banner__1TXeK",CompanyName:"Profile_CompanyName__3xp_1",EditIcon:"Profile_EditIcon__Du4pB",AvatarWrapper:"Profile_AvatarWrapper__1k8ru",ProfileAvatar:"Profile_ProfileAvatar__2uv_j",NameRow:"Profile_NameRow__1yZFR",ProfileDetails:"Profile_ProfileDetails__Z1h8m",Department:"Profile_Department__281vj",Bio:"Profile_Bio__3Zlhj",TwoColumnFeed:"Profile_TwoColumnFeed__1Kev4",FeedColumn:"Profile_FeedColumn__1daGe",SectionTitlePurple:"Profile_SectionTitlePurple__HDOQ6",SectionTitleYellow:"Profile_SectionTitleYellow__1YogP"}},24:function(e,t,a){e.exports={FeedButton:"HomeFeedPage_FeedButton__TzTd8",FeedToggleButtons:"HomeFeedPage_FeedToggleButtons__2iujI",FeedToggleActive:"HomeFeedPage_FeedToggleActive__1r3Ap",FeedToggleInactive:"HomeFeedPage_FeedToggleInactive__1n6t-",FeedContent:"HomeFeedPage_FeedContent__2yePL",PostCard:"HomeFeedPage_PostCard__KOPm-",PersonItem:"HomeFeedPage_PersonItem__24LIT",PersonContent:"HomeFeedPage_PersonContent__3kTEO",SearchFilterBlock:"HomeFeedPage_SearchFilterBlock__15nv6",FilterInput:"HomeFeedPage_FilterInput__2SRFV",FilterSelect:"HomeFeedPage_FilterSelect__Dljfr"}},29:function(e,t,a){e.exports={App:"App_App__1lbrG",Main:"App_Main__1eJsZ",YellowButton:"App_YellowButton__1Qzej",BlueButton:"App_BlueButton__2jV1c"}},33:function(e,t,a){e.exports={CommentSection:"Comment_CommentSection__3CGtR",SingleComment:"Comment_SingleComment__37rPz",CommentAuthor:"Comment_CommentAuthor__3lWSc",CommentText:"Comment_CommentText__ttCTQ",CommentDate:"Comment_CommentDate__1Z1_P"}},66:function(e,t,a){e.exports={DropdownToggle:"MoreDropdown_DropdownToggle__h1s3T",DropdownItem:"MoreDropdown_DropdownItem__m5TH-"}},67:function(e,t,a){e.exports={LoaderWrapper:"LoadingIndicator_LoaderWrapper__3GUK2",Spinner:"LoadingIndicator_Spinner__1L6aF",spin:"LoadingIndicator_spin__3hhrF",Message:"LoadingIndicator_Message__2bNaE"}},8:function(e,t,a){e.exports={CardWrapper:"PostCard_CardWrapper__1aPfU",PostTitle:"PostCard_PostTitle__amYVY",PostContent:"PostCard_PostContent__1mF67",ViewFullPostWrapper:"PostCard_ViewFullPostWrapper__6ZfRw",ViewFullPostLink:"PostCard_ViewFullPostLink__1MjBC",PostFooter:"PostCard_PostFooter__3RbvB",PostChildren:"PostCard_PostChildren__7MF44",ActionItem:"PostCard_ActionItem__1_YXt",Clickable:"PostCard_Clickable__3KGDz",DisabledIcon:"PostCard_DisabledIcon__35ZDD",LoginToComment:"PostCard_LoginToComment__3t1Dq",TagSection:"PostCard_TagSection__32VHi",PostImage:"PostCard_PostImage__2S_6F"}},82:function(e,t,a){e.exports={Navbar:"NavBar_Navbar__1-xmk","nav-link":"NavBar_nav-link__3OyqH"}},92:function(e,t,a){}},[[122,1,2]]]);
//# sourceMappingURL=main.e0aaa9cd.chunk.js.map